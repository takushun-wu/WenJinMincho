# 更新日志
## 1.021(2025.5.16)
### 新增内容
- 新增31个算筹、正字、福禄寿喜囍财等符号：𝍠𝍡𝍢𝍣𝍤𝍥𝍦𝍧𝍨𝍩𝍪𝍫𝍬𝍭𝍮𝍯𝍰𝍱𝍲𝍳𝍴𝍵𝍶𝍷𝍸🉠🉡🉢🉣🉤🉥
### 改进与问题修复
- 增加古汉语标点“𖿢𖿣`U+16FE2,16FE3`”对应的竖排形式；
- 修正6个汉字字形。
<details>
<summary>点击以查看</summary>

-   - **URO**：濲†
    - **ExtB**：𣀣
    - **ExtC**：𪪸𫔶†
    - **ExtE**：𬰧
    - **ExtF**：𮘬
    - 画†的汉字仅Unicode码表字形（`cv01`）发生改变，默认映射的字形和GB 18030-2022字形（`cv02`）都不变。
</details>

## 1.020(2025.4.4)
### 新增内容
- 新增竖排句读标点显示，即在竖排环境下让标点符号置于汉字的右侧。可通过OpenType`ss20`特性来调用；
- 新增macOS版iWork套件（Pages、Numbers、Keynote）、文本编辑等软件调用OpenType特性的使用说明。
### 改进与问题修复
- 修复第2/3平面OTF版字体汉字在Microsoft Office中竖排会显示成方框的问题；
- 修正88个汉字字形；
<details>
<summary>点击以查看</summary>

-   - **URO**：儛嗶嘸墲幠廡憮撫橅橆殔滭潕無璑畢瞴箣腄膴蕪蟂蟱躌鄦隷隸鞸驆魓
    - **ExtA**：㳟㶗㷻㼢䉑䌓䙇䟆䬛
    - **ExtB**：𠑉𠑋𠔉†𠡚𠦝†𠴍𢆨𢚹𢯨𢴜𢶢𢹇𢹉𢿹𣘽𣭃𤃧𤏬𤡘𤺟𥓶𥢄𥢉𥿵𦅮𦑃𦓡𦢶𦹰𦹺𦼝𧀍𧻐𨬊𩁲𩻐
    - **ExtC**：𪹟𫇂𫏢
    - **ExtE**：𬅳𬟃
    - **ExtH**：𱍸𱜠
    - **Comp**：洛
    - **CompSup**：㡢慌
    - **IVS**：嗶󠄀`55F6 E0100`、逢󠄂`9022 E0102/E0103`、逢󠄄`9022 E0104`
    - 画†的汉字仅默认映射的字形发生改变，Unicode码表字形（`cv01`）和GB 18030-2022字形（`cv02`）都不变。
</details>

- 优化58个汉字字形；
<details>
<summary>点击以查看</summary>

-   - **URO**：丷†侭刱南†喃†喚坯垗塛塨奐婻†寏恭愌揇†換擜‡暔柸楠†橌橗渙湳†潀烬煥煵†献瑈瑍瘓籤罱腩†荵萳蘂蝻†諵†谳§贃轗遖†隠鱤鵡
    - **ExtA**：㑲㓓†㣮†㵜†䈒䊖†䋻†䌾†
    - **ExtB**：𤩽‡
    - **ExtC**：𪩘§
    - 画†的汉字默认映射的字形发生改变和GB 18030-2022字形（`cv02`）都发生改变，而Unicode码表字形（`cv01`）不变。
    - 画‡的汉字默认仅默认映射的字形发生改变，Unicode码表字形（`cv01`）和GB 18030-2022字形（`cv02`）都不变。
    - 画§的汉字默认映射的字形发生改变和Unicode码表字形（`cv01`）都发生改变，而GB 18030-2022字形（`cv02`）不变。
</details>

- 将部分汉字修改成思源宋体的样式；
- 修改在Android系统（和基于AOSP的系统）中设定为系统后备字体的代码，修复在其设备上第2、3平面字体设置无法生效的问题。

## 1.010(2025.2.21)
本次更新包含Windows GDI兼容版的发布、功能改进与错误修正，建议所有用户更新。
### 新增内容
- 新增[Windows GDI](https://learn.microsoft.com/zh-cn/windows/win32/gdi/windows-gdi)兼容版，除行距参数与缩窄间距版相同外（紧贴汉字框的上部和下部），还发生了如下变化：
    - 字体名为“文津宋体W 第#平面”，PostScript字体名为`WenJinMinchoWP#-Regular`；
    - 标点符号不会因为OpenType特性所设文种和语言而自动变化（如双引号不会因此变成半角形式，在Word中左引号右侧不会出现空白，尾随变体选择符的自动变化功能仍然可用），但用户仍可通过手动开启OpenType`pwid`特性来手动启用；
    - 部分针对欧洲语言的OpenType自动替换功能会受到影响（可能需要手动开启OpenType`pwid`特性才能正确呈现）。
    - **原则上不建议使用该版本（非Windows环境下更不建议使用），除非您在使用相关软件时遇到上述问题。**
<details>
<summary>点击查看具体原因</summary>

> 由于Windows GDI接口配备的Uniscribe塑形引擎（相对于HarfBuzz）会默认把一段文字（即便该文字都是中文文段）设定为拉丁文文种，而文津宋体支持在西文环境下标点符号形式的自动转换功能（默认适用于中文的全角形式→**适用于西文的变宽形式**），因此在这种环境下，一些标点符号会自动转换为西文的样式。
> 
> 一些应用程序（如Word 2010、BabelStone Pad）使用GDI接口，因此在GDI环境下，引号会被显示为西文形式，在Word 2010中会造成左引号位于左侧，且空出一段空白的情况。
>
> 基于[DirectWrite](https://learn.microsoft.com/zh-cn/windows/win32/directwrite/introducing-directwrite)、HarfBuzz环境的文本无此问题（如Word 2013+、Google Chrome、Linux图形界面）。
>
> PS. 基于注册表的字体回退配置**仅对Windows GDI有效**，针对DirectWrite的全局字体回退配置暂无解决方法，需要软件开发者自行设置回退字体（或相关可配置选项）。
</details>
    
- 新增2个字符：ƏɁ
### 改进与问题修复
#### OpenType特性
- 新增汉语拼音字母的阳平声调的样式（运笔方向从左下到右上），包含以下字符：ÁÉẾÍḾŃÓÚǗáάéếíḿńóúǘ´◌́。可通过OpenType`ss01`特性来调用；
- 新增4个汉语拼音字母“ẾếỀề”的声调位于韵母“Êê”的正上方的形式（非越南语把声调放置于“^”的左右侧的形式）。可通过OpenType`ss01`特性来调用；（本条新加的“Ếế”遵从阳平声调的样式）
- 优化了字体的OpenType GSUB特性机制，删除部分冗余的查找替换表（Lookup table）；
- 修复了字体在西文环境下引号后接“VS2”`U+FE01`之后依然是变宽形式的问题。
#### 字符
- “◌̚”`U+031A`更改为占据字符宽度的形式，标在字符的右上角（参考Charis SIL），而不是字符的正上方；
- 改进了CJK笔画“㇣（圆圈〇）”的设计；
- 修正167个汉字字形；
<details>
<summary>点击以查看</summary>

-   - **URO**：捄殏皳盚脙莍蛷銶鯄
    - **ExtB**：𠬞𣅨𣠅𣠬𣷚
    - **ExtC**：𪬆𪬢𪰗𪳸𪺑𪾷𪾹𫌾𫐲𫓡
    - **ExtF**：𬾒𬾙𬾩𭁃𭁏𭆘𭋑𭌘𭌧𭎋𭎾𭏽𭑢𭓰𭗆𭗤𭗴𭘰𭟚𭠌𭣏𭤬𭧊𭧧𭧾𭩝𭭌𭱳𭲬𭲲𭲼𭶖𭶣𭹬𭻠𭻡𭻢𭻹𭾼𭿾𮀌𮁅𮁬𮂉𮂓𮂵𮃡𮆔𮆝𮆬𮈺𮋆𮋍𮋎𮍷𮎭𮐣𮓝𮓭𮕯𮙀𮙢𮛿𮜧𮠙𮠛𮠵𮠽𮡍𮡓𮢂𮣆𮨃𮨖𮩚𮩫𮩶𮫛𮫩
    - **ExtG**：𰃅𰉕𰎨𰤒𰫸𰭥𰸵𰼘𱆿
    - **ExtH**：𱎷𱏻𱏼𱐞𱑅𱑓𱛰𱛸𱟂𱡔𱤊𱤵𱤷𱧢𱧯𱧵𱨴𱩗𱫎𱯎𱯏𱵭𱷙𱻦𱻾𱼝𱼽𱽃𱽆𱽧𱾊𱾳𱾿𱿃𱿢𲀖𲀶𲁿𲂚𲂥𲅅𲆼𲈯𲉸𲉹𲉿𲊂𲊆𲊉𲊍𲊏𲊑𲊒𲊓𲊢
</details>

- 优化15个汉字字形；
<details>
<summary>点击以查看</summary>

-   - **ExtA**：㐃†㔔‡㪳‡㫈‡
    - **ExtB**：𧼱‡[^1]𩬬𩴕𩿮
    - **ExtC**：𫛷
    - **ExtE**：𫰏
    - **ExtF**：𭶫𮃵𮢥𮣥
    - **ExtH**：𱕴
    - 画†的汉字默认映射的字形和GB 18030-2022字形（`cv02`）都发生改变，Unicode码表字形（`cv01`）不变。
    - 画‡的汉字仅默认映射的字形发生改变，Unicode码表字形（`cv01`）和GB 18030-2022字形（`cv02`）都不变。
</details>

- 将部分汉字修改成思源宋体的样式。

[^1]: 新版本的“𧼱（⿺走复）”中“复”的末笔默认情况下为点，不是Unicode码表所示的捺。字形标准依据：[GB/T 22321.1-2018](https://std.samr.gov.cn/gb/search/gbDetailed?id=71F772D82E29D3A7E05397BE0A0AB82A)

## 1.000(2025.1.3)
### 说明文件
- 规范了字体随附的版权声明部分的部分内容；

> [!CAUTION]
>
> 根据SIL OFL协议的要求，**只要是基于OFL协议改作的字体，不论使用的字形数多少，不论作了何种形式的修改，都必须完整保留使用到的所有上游字体提供的许可证开头的版权声明。** 该条款内容对本存储库提供的过往版本的字体文件也同样有效，因为许可协议文本（SIL Open Font License授权协议）并未发生任何改变。具体内容详见：
>
> https://openfontlicense.org/ofl-faq/
- 从1.000版本开始，不再提供编译字体的源文件及编译脚本。

> [!NOTE]
>
> SIL OFL协议不强制要求必须提供字体的编译源文件。多个历史版本的编译源文件还会导致存储库体积过大。
### 新增内容
- 新增缩窄间距版TTF版本，行距参数与紧贴汉字框的上部和下部（行为与中易宋体相似），在Microsoft Office中行距不会显得过宽；
- 扩充了希腊文与西里尔文等非汉字字母与符号，涵盖GF Greek Core和GF Cyrillic Core字符集，与文源字体系列看齐；
- 新增16个用来标音的字符：ƛǞǟɷᴮᶜḌḍṆṇṢṣṬṭẒẓ
- 新增4个字符：“◌〪◌〫◌〬◌〭”`U+302A..302D`，是[四角标圈法](https://zh.wikipedia.org/wiki/%E7%99%BC%E5%9C%88%E6%B3%95)对应的符号，用于汉字的标调，分别代表汉语四调：平上去入。同时还新增OpenType`cv12`特性，其作用是把这四个符号转换成实心圆点的形式；
- 新增文源字体支持的OpenType特性：
    - `dlig`：可选连字（TEL→℡）
    - `numr`,`dnom`,`frac`：分数相关
- 新增了在OpenType`ss04`特性下韵尾入声符号“˙”的显示，显示在其前的韵母的正上方；
- OpenType`subs`特性（下标）现在可以使数字变成下标形式。
### 改进与问题修复
#### 字符
- 将间隔号“·”`U+00B7`、en横杠“–”`U+2013`修改成半个汉字宽（后者可作为连接号使用，增加汉字字形版本并将其映射到对应码位，西文形式无变化）；
- 改进注音符号“ㄯ”`U+302F`的设计；
- 在OpenType`cv11`/`subs`特性下的下标注音符号“<sub>ㄆㄇㄊㄋㄎㄫ</sub>”（用于粤语注音符号）在竖排中现放置在汉字字符框的右上侧（即上个韵尾的右下侧），而非上个韵尾的右侧。
- 组合用下加点“◌̣”`U+0323`，现在用于西文字母的下加点的显示，而用于注音符号的下加点形式（粤语注音符号）会在前面为注音符号时才自动转换；
- 将3个汉字修改成思源宋体的样式：
    - **ExtB**：𠀤𨮁
    - **ExtG**：𰾺
- 修正/优化215个汉字字形：
<details>
<summary>点击以查看</summary>

-   - **URO**：不伓佖佲侕偄偧優劌厦吢吥呞嚭囨圇堧堵奯孞小徳忈忎忐忝忢忥怘思怣怸恖恥恵悉悡悪悶惀惄惉惎惑惢惣愂愗愛愞愳慿憂憇憑憗憙懟抍抔拿掣揔撑攃暵曖杯柌栭梕梞楳榎檅泌洏洺涶淴澿瀀瀻煗燜爚牎獩瓇皁眳睔瞹硾碝穂穏粫糥罳耎耏肧胹腝苾莵萙薆薬虙蝡覕覟輀輭醓鈈鉰銘鍯鑙阫陾韱顋顖飛騛驥鮞鱫鴓鴯龢龽
    - **ExtA**：㐅㝼㝽㝾㝿㞀㞁㞂㞄㞅㞆㞇㞈㞉㞊㤵㴵㺊䊅䏰䣳
    - **ExtB**：𠐭𡟈†𨎪
    - **ExtC**：𪻚†
    - **ExtE**：𫮩𬚖†
    - **ExtF**：𮍜𮍯𮑤𮝵
    - **ExtG**：𰆥𰥍†
    - **ExtH**：𲄗
    - **IVS**：
        - Base+`U+E0100`：僾󠄀刈󠄀双󠄀啉󠄀啾󠄀得󠄀恁󠄀恷󠄀想󠄀愆󠄀愚󠄀愡󠄀慂󠄀憥󠄀憽󠄀扌󠄀掌󠄀撑󠄀暴󠄀櫌󠄀毛󠄀涊󠄀熄󠄀珎󠄀礻󠄀笔󠄀耄󠄀螅󠄀蟋󠄀鉨󠄀銘󠄀
        - Base+`U+E0100/E0101`：恿󠄀惠󠄀惥󠄀惹󠄀憼󠄀懋󠄀擎󠄀櫖󠄀璦󠄀皧󠄀穗󠄀葸󠄀
        - Base+`U+E0101`：珎󠄁
        - Base+`U+E0102`：忿󠄂
    - 画†的汉字默认映射的字形（与文源宋体看齐）和GB 18030-2022字形（`cv02`）都发生改变，而Unicode码表字形（`cv01`）不变；
</details>

- 将数个IVS异体字修改成思源宋体的样式，同时将部分可统合的IVD汉字映射到同一字图；
- 删除字体内冗余的字形。
#### OpenType特性
- 优化了字体的OpenType GSUB特性机制；
- 优化了字体内建的标点压缩机制；
- 在竖排环境下，竖笔的注音符号“ㄧ”（打开`hist`或`ss04`特性）会自动转换成横笔形式（即未开启相关OpenType特性的情况）；
- 现在任何注音字母后面追加“˙”都会自动转换成右上角的形式，同时在竖排环境下，任何注音字母后接调号会自动转换成竖排调号的形式（置于字母的右上角）；
- 修复了在浏览器中，按照用户手册配置竖排环境下的注音符号韵尾入声符号“˙”无法显示在韵母的右上方的问题；
- 修复了在竖排环境下无法应用OpenType`cpct`特性的问题。
#### 其他
- 修改了`OS/2`表的`CodePageRange`和`UnicodeRange`的值，修复了在Microsoft Word下多个组合用附加符号连用时发生的位置错乱的问题［部分情况下可能还需要先选择一个英文字体（如Times New Roman）后再选择文津宋体才能正常显示］。

---
测试版（v0.100—v0.701）的更新日志，请[点击此处查看](./CHANGELOG-BETA.md)。